Tue May 24 06:48:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='1', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=2, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 00:41:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=2, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 00:44:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=2, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 00:48:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=2, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 00:49:31 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=2, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 01:02:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=8, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 01:09:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=8, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed May 25 01:11:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=8, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri May 27 08:05:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=8, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon May 30 15:08:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='3', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='c4', dataset_cache_dir='../../hf_datasets/', dataset_name='c4', dataset_version='en', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='012', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=8, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=0, log_dir='./log', log_name='012', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=True, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model', pretrain_dataset_path='/data/hailin/PromptSumm/c4_realnewslike', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, train_sample_summary=True, use_huggingface_dataset=True, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 14:43:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 14:54:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model_114k', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt_114k', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 14:54:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_full_model_114k', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/bestckpt_prompt_114k', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 14:55:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt_0520bak/bestckpt_full_model_114k', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/qin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt_0520bak/bestckpt_prompt_114k', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 14:57:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 15:00:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 15:33:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 15:56:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 16:16:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 18:40:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 20:19:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  1 22:00:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 01:41:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 04:38:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 12:54:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 13:27:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 13:48:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 14:09:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 16:27:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:08:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 19:47:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 23:19:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 01:53:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='target', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 02:25:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 03:03:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 06:14:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:31:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:34:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:42:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/Summarization/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:43:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 18:48:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 19:12:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  2 22:32:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 01:06:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 01:08:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 09:27:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 09:28:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 19:32:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 19:35:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 19:39:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:03:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:04:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:05:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:08:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:09:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun  3 20:09:31 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='/data/mathieu/hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 00:04:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 10:46:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 10:46:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 10:48:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 10:49:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 10:50:54 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 11:24:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 11:37:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 15:25:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun  4 16:54:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun  5 00:50:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
<<<<<<< HEAD
Mon Jun  6 23:32:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cpu'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 11:30:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 11:31:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 12:00:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 12:02:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 12:54:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 12:57:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 14:45:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 14:49:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 14:51:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 15:21:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 16:13:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 19:32:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 15:40:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 15:41:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:34:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:36:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:37:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:38:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:44:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:52:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:55:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:56:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 16:59:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:02:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:07:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:15:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:21:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:21:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:23:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 17:24:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 20:35:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 20:35:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun  8 20:36:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 09:48:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 09:49:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 09:49:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 09:50:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 10:33:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 14:17:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 14:21:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun  9 15:20:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 01:37:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 01:38:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 01:42:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 01:42:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 01:44:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 10:59:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 11:00:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 11:01:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 11:02:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 11:05:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_330k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 15:06:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 15:08:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 15:12:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 10 15:13:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5SoftPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_510k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 09:55:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 10:28:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 11:05:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 11:09:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/013_ent_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 12:50:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 12:51:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 13:21:54 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 15:04:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jun 17 17:22:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:32:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:33:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:34:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:35:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:35:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:38:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:38:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:38:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:39:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:41:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:50:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:50:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:51:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:51:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:51:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:52:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:52:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:53:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:54:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:54:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:56:27 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:57:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 01:59:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:03:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:09:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:13:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:15:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:18:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:21:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:21:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:23:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:26:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:40:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 02:42:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:03:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:05:54 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:08:27 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:08:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:13:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:14:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:14:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_135k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:18:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=100, max_val_size=10, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:21:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=5, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:22:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=5, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:24:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=5, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:24:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=5, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:26:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:27:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:29:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 18 03:30:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=1, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 15:49:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 15:52:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 15:56:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 16:27:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:11:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:17:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:19:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:23:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:28:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:32:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:33:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:37:27 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:37:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:40:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:40:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:40:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:41:31 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:43:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:44:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:45:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:46:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:48:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:49:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:50:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 18:57:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 19:01:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 19:03:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 19:16:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Jun 19 19:21:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 00:24:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/64/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 02:39:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/64/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 10:06:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/64/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 10:08:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/64/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 10:14:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=64, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/64/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 10:14:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 13:45:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 19:32:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 21:39:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 21:41:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 21:46:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 21:47:35 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun 20 21:55:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 11:31:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 11:33:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 12:10:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 12:10:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 12:12:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 12:13:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 23:49:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun 21 23:56:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:12:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:14:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:15:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:18:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:19:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 00:21:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 21:46:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 21:50:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 21:52:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Jun 22 23:55:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 17:27:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:13:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:18:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:19:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:20:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:22:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
<<<<<<< HEAD
Thu Jun 23 18:42:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 18:46:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 19:04:31 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 19:08:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 19:09:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 19:10:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Jun 23 19:10:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
=======
Sat Jun 25 01:45:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:47:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:49:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:52:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:54:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:57:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 01:59:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 02:04:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5SoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 02:05:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5SoftPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 02:06:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/100/T5SoftPrompt_v3/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 02:07:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5SoftPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 02:08:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5SoftPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 08:22:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5SoftPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/10/T5SoftPrompt_v3/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 10:38:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 10:40:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sat Jun 25 10:41:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=100, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-large', model_save_folder='saved_models/cnndm/100/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
=======
Mon Jun  6 23:35:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cpu'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun  6 23:41:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun  6 23:45:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun  6 23:56:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun  6 23:58:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Jun  6 23:59:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 00:01:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Jun  7 00:02:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, build_salient_entities=False, cache_path='/data/qin/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/qin/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/qin/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/mathieu/t5_tagger_pretrained_ckpt/012_c_210k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=False, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
>>>>>>> 06188444c6a9df822951ff702d1781d02abb91d0
----------------------------------------------------------------------------
Fri Jul 22 19:42:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 19:43:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='0', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 19:50:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 21:35:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 21:38:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:32:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:35:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:38:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:39:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:42:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:42:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Jul 22 22:44:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-v1-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='T5MixPrompt', model_name='google/t5-v1_1-large', model_save_folder='saved_models/xsum/10/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/012_cc_ent_v2_120k/012_cc_ent_v2_120k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=1, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 11 23:37:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/ruochen/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:37:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/ruochen/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:38:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:39:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:47:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:48:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:55:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:56:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Thu Aug 11 23:59:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:00:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:00:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:01:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:03:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:04:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:06:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:08:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:10:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:17:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:18:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:19:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:22:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:32:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:33:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:34:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 12 00:57:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:58:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 00:59:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 01:01:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 01:02:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_340k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 22:26:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 22:27:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Fri Aug 12 22:28:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:03:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:04:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:07:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:08:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:29:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:30:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:47:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sat Aug 13 05:48:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 14 23:05:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:05:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:07:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:07:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:25:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:26:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:32:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:35:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:55:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:56:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Sun Aug 14 23:59:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Mon Aug 15 00:04:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Mon Aug 15 00:06:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Mon Aug 15 00:10:31 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=8, test_size_per_gpu_pretrain=8, test_size_per_gpu_summary=8, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 16:53:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 16:53:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:19:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:20:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:21:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:23:53 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:46:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:47:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:50:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:51:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:51:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:52:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:53:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:53:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:54:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:56:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:56:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:58:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 17:59:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:00:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:00:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:02:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:03:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:03:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:04:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:05:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:05:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:05:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:07:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:08:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:08:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:09:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:10:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:11:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:11:27 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:12:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:12:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:15:19 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:15:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:16:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:16:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:17:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:18:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:19:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:19:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:21:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:21:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:23:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:23:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:24:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:24:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:26:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:29:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:31:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:42:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:43:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 18:48:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=True)
----------------------------------------------------------------------------
Tue Aug 16 22:30:22 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/ruochen/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:30:46 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:31:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:32:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:42:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:42:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:45:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=10, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=2, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Aug 16 22:48:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=10, batch_size_per_gpu_pretrain=10, batch_size_per_gpu_summary=2, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=1, gradient_accumulation_steps_pretrain=1, gradient_accumulation_steps_summary=1, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=2, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/10/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=20, test_size_per_gpu_pretrain=40, test_size_per_gpu_summary=20, text_key='dialogue', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=20, valid_size_per_gpu_pretrain=20, valid_size_per_gpu_summary=20, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:31:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:31:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:31:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:32:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:32:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:33:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:38:52 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:40:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:42:35 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:44:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:45:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:46:30 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:48:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 17:49:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:01:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:02:05 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:03:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:04:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=1, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:05:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=5, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=20, max_val_size=5, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 18:09:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 23:32:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 23:34:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 23:35:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 23:38:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 17 23:59:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 18 00:25:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 18 00:46:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 18 00:50:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 18 21:35:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:39:35 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:39:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:40:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:41:32 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=30, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:44:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:50:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:53:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:56:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:58:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 18:59:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 19:05:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 19:16:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 19:17:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 19:20:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step=15000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=100, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=30, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=10, max_val_size=10, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=43, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 19:36:51 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 22:01:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Fri Aug 19 22:01:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 00:04:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 00:12:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 00:17:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 00:19:58 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 05:41:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Sun Aug 21 12:50:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:08:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:13:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:32:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:36:55 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:47:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:49:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 11:49:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 12:00:14 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 12:06:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 12:09:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 12:11:41 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 13:25:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Mon Aug 22 13:36:10 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=True, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:10:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:27:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=0, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:29:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:29:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:32:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:33:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:34:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:39:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:42:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:45:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:48:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:50:49 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 22:53:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 23:12:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 23:20:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=True, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 23:47:16 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Aug 24 23:49:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Thu Aug 25 19:54:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=0.5, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=1000, model='PegasusMixPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusMixPrompt/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed='42_v1', separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:39:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:39:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=False, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=True, infer_val_entities=True, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=True, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=True, use_t5_tagger=True, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:40:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:42:08 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:50:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:53:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:54:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 11:56:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 12:07:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:06:09 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:10:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:12:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:16:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:24:15 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:25:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:27:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:34:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:35:25 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:36:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:38:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:39:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:45:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:47:40 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:48:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:52:29 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:57:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:58:45 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 14:59:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:01:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:03:57 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:08:01 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:15:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:18:03 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:18:43 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:25:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:27:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-base', model_save_folder='saved_models/cnndm/10/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:30:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-base', model_save_folder='saved_models/cnndm/10/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:33:02 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/t5-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='T5Finetune', model_name='google/t5-v1_1-base', model_save_folder='saved_models/cnndm/10/T5Finetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:37:13 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:40:56 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:41:54 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:42:34 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:43:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 15:44:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:27:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:37:50 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:39:12 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:40:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:52:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=0.5, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusSoftPrompt', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusSoftPrompt/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 16:58:48 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=True, eval_start_step=30000, eval_step_entity=15000, eval_step_pretrain=15000, eval_step_summary=15000, exp_id='001', few_shot=10, filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=1, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_pretrain_full_weights=5e-05, lr_summary=5e-05, max_epoch_entity=60, max_epoch_pretrain=5, max_epoch_summary=60, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/10/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=3, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=1e-05, weight_decay_pretrain=0, weight_decay_summary=1e-05, zero_shot=False)
>>>>>>> 0ec40bbecce1df7abfdedbc3b424d755f202766c
----------------------------------------------------------------------------
Tue Sep  6 19:56:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=10, max_val_size=10, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 19:58:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=10, max_val_size=10, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:00:44 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:42:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=10, max_val_size=10, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:43:38 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=100, max_val_size=100, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:50:11 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='cnndm', dataset_cache_dir='../../hf_datasets/', dataset_name='ccdv/cnn_dailymail', dataset_version='3.0.0', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=True, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=128, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/cnndm/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='highlights', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='article', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:50:36 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:51:04 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='dialogue', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:51:37 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:52:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='dialogue', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:53:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:54:39 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:55:23 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:58:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 20:59:20 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:00:07 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:02:21 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:03:00 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:04:26 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:06:28 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:07:33 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:09:18 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:10:06 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:10:42 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:12:27 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:13:17 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Tue Sep  6 21:13:47 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Sep  7 00:10:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='billsum', dataset_cache_dir='../../hf_datasets/', dataset_name='billsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=256, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/billsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='text', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='test', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Wed Sep  7 10:02:59 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='xsum', dataset_cache_dir='../../hf_datasets/', dataset_name='xsum', dataset_version='default', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=False, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=5, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/xsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='document', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
Thu Sep  8 11:25:24 2022
Namespace(adam_epsilon=1e-08, batch_size_per_gpu_entity=2, batch_size_per_gpu_pretrain=1, batch_size_per_gpu_summary=1, big_testset=False, build_salient_entities=False, cache_path='/data/mathieu/hf_models/pegasus-large/', concat_mode='concat_right', counterfactual_removal=False, cuda='2', data_dir='/data/mathieu/DATASETS/PromptSumm/', dataset='samsum', dataset_cache_dir='../../hf_datasets/', dataset_name='samsum', dataset_version='samsum', debug=False, debug_pretrain=False, device=device(type='cuda'), eval_abstractiveness=True, eval_epoch_0=False, eval_step_entity=15000, eval_step_pretrain=10000, eval_step_summary=10000, exp_id='001', few_shot='full', filter_type=None, finetune_entity=False, finetune_summary=True, full_testset=True, gradient_accumulation_steps_entity=2, gradient_accumulation_steps_pretrain=4, gradient_accumulation_steps_summary=8, guidance_mode='input', guidance_type='ents', highlights=False, if_spacy=False, infer_val_entities=False, length_penalty=1.0, lm_adapted_path='/data/mathieu/lm_adapted_t5model/torch_ckpt/large/pytorch_model.bin', local_rank=-1, log_dir='./log', log_name='dummy', log_step_finetune=200, log_step_pretrain=50, lr_entity=0.5, lr_pretrain=0.5, lr_summary=5e-05, max_epoch_entity=3, max_epoch_pretrain=5, max_epoch_summary=0, max_grad_norm_entity=1.0, max_grad_norm_pretrain=1.0, max_grad_norm_summary=1.0, max_guidance_length=100, max_length=512, max_summary_length=64, max_train_size=1000000, max_val_size=100000, model='PegasusFinetune', model_name='google/pegasus-large', model_save_folder='saved_models/samsum/full/PegasusFinetune/', n_gpu=1, num_beams=4, num_seeds=1, num_workers_entity=4, num_workers_pretrain=4, num_workers_summary=0, optimizer_entity='adafactor', optimizer_pretrain='adafactor', optimizer_summary='adafactor', pretrain=False, pretrain_all_weights=True, pretrain_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_full_model', pretrain_dataset_path='', pretrain_prompt_ckpt='/data/hailin/PromptSumm/t5_tagger_pretrained_ckpt/014_c_1070k/bestckpt_prompt', pretrain_with_ent_chain=False, pretraining_train_size=204045, pretraining_val_size=1000, prompt_number=300, repetition_penalty=2.5, reuse_entity_file=False, save_model=True, save_model_path='', seed=42, separator=',', stemmer=True, summary_key='summary', test_key='test', test_size_per_gpu_entity=4, test_size_per_gpu_pretrain=4, test_size_per_gpu_summary=4, text_key='dialogue', train_sample_summary=True, use_entity_chain=False, use_huggingface_dataset=False, use_lm_adapted=0, use_pretrain_ckpt=False, use_t5_tagger=False, valid_size_per_gpu_entity=4, valid_size_per_gpu_pretrain=4, valid_size_per_gpu_summary=4, validation_key='validation', warmup_steps_entity=0.01, warmup_steps_pretrain=0.01, warmup_steps_summary=0.01, weight_decay_entity=0, weight_decay_pretrain=0, weight_decay_summary=0, zero_shot=False)
----------------------------------------------------------------------------
